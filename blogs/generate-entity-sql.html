<p>
    I have found myself needing to write a lot of class files for Entity Framework as of late.
    I am a fairly lazy fellow, so I had previously written a regex to do almost what I needed.
</p>
<p>
    I threw together a select statement based on SQL Server 2005 schema to generate a simple class based on the table name and database schema.
    No guarantee that it will work on anything but 2005, but with minor modification, it should fit anyone's needs.
    It won't cover all cases, but it works for well over 90% of mine I think. Even so, it sets up a good template. Enjoy!
</p>
<code>
    <span>
        DECLARE @tableName NVARCHAR(500)
        <br />DECLARE @schema NVARCHAR(500)
        <br />SET @schema = 'dbo'
        <br />SET @tableName = 'Advertiser'
        <br />SELECT 'public class ' +
        <span>
            CASE
            <span>WHEN Schema_name(t.schema_id) NOT LIKE 'dbo' THEN Schema_name(t.schema_id) </span>
            <span>ELSE '' </span>
            END + t.name + ' { '
        </span>
        FROM sys.tables AS t
        <br />WHERE t.name = @tableName
        <span>AND Schema_name(t.schema_id) = @schema</span>
        UNION ALL
        <br />SELECT '    public '  +
        <span>
            CASE
            <span>WHEN ty.name LIKE '%char%' THEN 'string'</span>
            <span>WHEN ty.name ='text' THEN 'string'</span>
            <span>WHEN ty.name = 'bigint' THEN 'long'</span>
            <span>WHEN ty.name ='tinyint' THEN 'short'</span>
            <span>WHEN ty.name = 'uniqueidentifier' THEN 'guid'</span>
            <span>WHEN ty.name = 'smalldatetime' THEN 'DateTime'</span>
            <span>WHEN ty.name = 'datetime' THEN'DateTime'</span>
            <span>WHEN ty.name LIKE '%money%' THEN 'decimal'</span>
            <span>WHEN ty.name = 'bit' THEN 'bool'</span>
            <span>ELSE ty.name</span>
            END +
        </span>
        <span>
            CASE
            <span>WHEN c.is_nullable = 1 AND ty.name NOT LIKE '%char%' AND ty.name NOT LIKE 'text' THEN '? '</span>
            <span>ELSE ' '</span>
            END + c.name + ' { get; set; }'
        </span>
        FROM sys.tables AS t
        <br />JOIN sys.columns c
        <span>ON t.object_id = c.object_id </span>
        <span>ON c.system_type_id = ty.system_type_id</span>
        WHERE t.name = @tableName
        <span>AND Schema_name(t.schema_id) = @schema</span>
        <span>AND ty.name NOT LIKE 'sysname'</span>
        UNION ALL
        <br />SELECT '}'
    </span>
</code>