<p>
    Chess is an awesome candidate for test driven development. 
    I have been working on a chess application sporadically for a couple of years, 
    which is evident in the date when I first announced it: 
    <a href="/blog/chess-sharp-beta#disqusthread" target="_blank">Original Blog Post</a>
</p>

<p>
    The rules on movement are entirely defined and so you have 
    a lot of easy initial cases to setup.
</p>

<p>
    The problem though, is that you basically have an infinite number 
    of permutations of movements and boards to test for. 
    That fact made this test coverage thing pretty daunting for me.
</p>

<p>
    The thought of manually setting up the board and pieces for 
    every single test I wanted sounded pretty awful. 
    I thought about the nature of validating any given move and decided that 
    I could just play a chess game against myself, 
    capture the board and move command, 
    declare whether the move is legal or not, 
    and give the dataset a name.
</p>

<p>
    So I coded it out and now have a user interface 
    for playing through a game and capturing test cases.
</p>

<img src="/img/test-generator.png" alt="Test case generator UI" class="max-four-fifty-centered" />

<p>
    I then needed to put together a way to run the test cases 
    so I coded out the consumption of the test case JSON files 
    and fed them into my move validation code.
</p>

<img src="/img/chess-test-case-files.png" alt="Generated test case JSON files"  class="max-four-fifty-centered"  />

<p>
    I put together a simple table to display the result. 
    For an extra treat, for any failed tests, 
    I reused my angular chess board to display the board state and offending move. 
    That way I can switch between any failed tests for a 
    visual representation of what I need to fix in code.
</p>

<img src="/img/test-results-with-preview.png" alt="Test case runner and preview UI"  class="max-four-fifty-centered"  />

<p>
    Now I just need to play a few sets of games against myself while 
    trying to do some seriously whacky things and I'll have 
    fairly comprehensive test coverage.
</p>

<p>
    If you're interested in checking out the code:

    <br />

    <a href="https://github.com/SpykeBytes/ChessSharp" target="_blank">
        Chess Sharp github repository
    </a>
</p>

<p>
    I think I'll now work on refactoring this entire chess 
    application now that I have tests that tell me whether or not it works.
</p>

<p>
    I think that there are a lot of different situations where testing 
    through state snapshots can really speed up generation of test cases.
</p>

<p>
    Maybe when I find a good real world use case I can share that too.

</p>
